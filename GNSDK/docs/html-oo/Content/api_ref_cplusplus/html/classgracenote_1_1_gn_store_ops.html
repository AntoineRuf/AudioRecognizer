<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>GNSDK for Desktop: gracenote::GnStoreOps Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">GNSDK for Desktop
   &#160;<span id="projectnumber">3.07.7.3701</span>
   </div>
   <div id="projectbrief">C++ API Reference for the Gracenote Developer Portal</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classgracenote_1_1_gn_store_ops.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="classgracenote_1_1_gn_store_ops-members.html">List of all members</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#friends">Friends</a>  </div>
  <div class="headertitle">
<div class="title">gracenote::GnStoreOps Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:abbdc932b8b6fb91a29e38001ad369707"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgracenote_1_1_gn_store_ops.html#abbdc932b8b6fb91a29e38001ad369707">~GnStoreOps</a> ()</td></tr>
<tr class="separator:abbdc932b8b6fb91a29e38001ad369707"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6887d28e12855f015c6de6ea44dd9038"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgracenote_1_1_gn_store_ops.html#a6887d28e12855f015c6de6ea44dd9038">Cleanup</a> (bool bAsync)  throw (GnError)</td></tr>
<tr class="separator:a6887d28e12855f015c6de6ea44dd9038"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae9dbba22240339a854cba98636fd1adc"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgracenote_1_1_gn_store_ops.html#ae9dbba22240339a854cba98636fd1adc">Compact</a> (bool bAsync)  throw (GnError)</td></tr>
<tr class="separator:ae9dbba22240339a854cba98636fd1adc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a96a239fc884896ed171dd5dba0023931"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgracenote_1_1_gn_store_ops.html#a96a239fc884896ed171dd5dba0023931">Flush</a> (bool bAsync)  throw (GnError)</td></tr>
<tr class="separator:a96a239fc884896ed171dd5dba0023931"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a390eff2c62061e45e48bfbdcbe4a4cd3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgracenote_1_1_gn_store_ops.html#a390eff2c62061e45e48bfbdcbe4a4cd3">Location</a> (gnsdk_cstr_t location)  throw (GnError)</td></tr>
<tr class="separator:a390eff2c62061e45e48bfbdcbe4a4cd3"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="friends"></a>
Friends</h2></td></tr>
<tr class="memitem:aea15adb2eddd1d2d8833f781ffa9c6b4"><td class="memItemLeft" align="right" valign="top">class&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgracenote_1_1_gn_store_ops.html#aea15adb2eddd1d2d8833f781ffa9c6b4">GnManager</a></td></tr>
<tr class="separator:aea15adb2eddd1d2d8833f781ffa9c6b4"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>GNSDK persistent store configuration and maintenance operations </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="abbdc932b8b6fb91a29e38001ad369707"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual gracenote::GnStoreOps::~GnStoreOps </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a6887d28e12855f015c6de6ea44dd9038"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void gracenote::GnStoreOps::Cleanup </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>bAsync</em></td><td>)</td>
          <td></td>
        </tr>
        <tr>
          <td align="right">throw </td><td>(</td><td colspan="2"><a class="el" href="classgracenote_1_1_gn_error.html">GnError</a></td>
        </tr>
        <tr>
          <td align="right"></td><td>)</td><td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Searches the existing local store and removes any records that are expired or unneeded.</p>
<p>Operation</p>
<p>This API first decides if maintenance is required; this is determined by tracking when the next record expiration is needed.</p>
<p>Maintenance is always run the first time this API is called; any subsequent calls only perform maintenance if this is required. Consequently, calling this API multiple times does not result in excessive maintenance.</p>
<p>Performance</p>
<p>If <code>bAsync</code> is true and if maintenance is necessary, this API spawns a thread to perform the clean-up. This thread runs at the lowest priority to minimize the impact on other running queries or operations of the SDK.</p>
<p>This function can cause performance issues due to creating a large amount of disk I/O.</p>
<p>This operation can be performed on different storages at the same time, but note that performing multiple simultaneous calls will potentially further degrade performance.</p>
<p>Expired Records</p>
<p>Expired records are those older than the maximum allowable, even if the record has been recently read. Old but actively read records are removed because Gracenote Service may have an updated matching record.</p>
<p>The maximum allowable age of a record varies by query type and is managed internally by Gracenote. Applications can use <a class="el" href="classgracenote_1_1_gn_user.html">GnUser</a> option to adjust the age at which records are expired.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">bAsync</td><td>[in] if true perform an asynchronous cache clean-up maintenance in the background on a separate thread </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ae9dbba22240339a854cba98636fd1adc"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void gracenote::GnStoreOps::Compact </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>bAsync</em></td><td>)</td>
          <td></td>
        </tr>
        <tr>
          <td align="right">throw </td><td>(</td><td colspan="2"><a class="el" href="classgracenote_1_1_gn_error.html">GnError</a></td>
        </tr>
        <tr>
          <td align="right"></td><td>)</td><td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Attempts to compact the persistent store and minimize the amount of space required.</p>
<p>When the <code>bAsync</code> is set to true the function immediately returns and the compact is performed in the background and on a separate thread.</p>
<p>Performance</p>
<p>If <code>bAsync</code> is true this API spawns a thread to perform the operation. This thread runs at the lowest priority to minimize the impact on other running queries or operations of the SDK.</p>
<p>This method can cause performance issues due to creating a large amount of disk I/O.</p>
<p>This operation can be performed on different storages at the same time, but note that performing multiple simultaneous calls will potentially further degrade performance.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">bAsync</td><td>[in] if true perform an asynchronous cache compact in the background on a separate thread </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a96a239fc884896ed171dd5dba0023931"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void gracenote::GnStoreOps::Flush </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>bAsync</em></td><td>)</td>
          <td></td>
        </tr>
        <tr>
          <td align="right">throw </td><td>(</td><td colspan="2"><a class="el" href="classgracenote_1_1_gn_error.html">GnError</a></td>
        </tr>
        <tr>
          <td align="right"></td><td>)</td><td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Clears all records from the persistent store.</p>
<p>When the <code>bAsync</code> is set to true the function immediately returns and the flush is performed in the background and on a separate thread.</p>
<p>Performance</p>
<p>If <code>bAsync</code> is true this API spawns a thread to perform the operation. This thread runs at the lowest priority to minimize the impact on other running queries or operations of the SDK.</p>
<p>This function can cause performance issues due to creating a large amount of disk I/O.</p>
<p>This operation can be performed on different storages at the same time, but note that performing multiple simultaneous calls will potentially further degrade performance.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">bAsync</td><td>[in] if true perform an asynchronous cache flush in the background on a separate thread </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a390eff2c62061e45e48bfbdcbe4a4cd3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void gracenote::GnStoreOps::Location </td>
          <td>(</td>
          <td class="paramtype">gnsdk_cstr_t&#160;</td>
          <td class="paramname"><em>location</em></td><td>)</td>
          <td></td>
        </tr>
        <tr>
          <td align="right">throw </td><td>(</td><td colspan="2"><a class="el" href="classgracenote_1_1_gn_error.html">GnError</a></td>
        </tr>
        <tr>
          <td align="right"></td><td>)</td><td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Specify the location of the persistent store.</p>
<p>If location is not specified using this method the location set for the initialized storage SDK will be used. For example, if the SQLite Storage SDK has been initialized, any path set using <code>GnStorageSqlite.StorageLocation(..)</code> will be used.</p>
<p>The storage location must be a valid relative or absolute path to an existing folder that has the necessary write permissions.</p>
<p><b>Important:</b></p>
<p>For Windows CE an absolute path must be used. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">location</td><td>[in] response cache location </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Friends And Related Function Documentation</h2>
<a class="anchor" id="aea15adb2eddd1d2d8833f781ffa9c6b4"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">friend class <a class="el" href="classgracenote_1_1_gn_manager.html">GnManager</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">friend</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
</ul>
</div>
<hr \>
<p style="margin-left:2em;">
<a href="mailto:doc_feedback@gracenote.com?subject=Gracenote Documentation Feedback" title="Email comments about this topic to Gracenote Technical Publications." alt="Email comments about this topic to Gracenote Technical Publications.">How can we improve this documentation?</a><br \>
Copyright &copy; 2000-present. Gracenote, Inc. All rights reserved. Generated on Tue Jul 14 2015 12:48:49.<br \>
</p>
</body>
</html>
