<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>GNSDK for Desktop: gracenote::lookup_localstream::GnLookupLocalStream Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">GNSDK for Desktop
   &#160;<span id="projectnumber">3.07.7.3701</span>
   </div>
   <div id="projectbrief">C++ API Reference for the Gracenote Developer Portal</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classgracenote_1_1lookup__localstream_1_1_gn_lookup_local_stream.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="classgracenote_1_1lookup__localstream_1_1_gn_lookup_local_stream-members.html">List of all members</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a>  </div>
  <div class="headertitle">
<div class="title">gracenote::lookup_localstream::GnLookupLocalStream Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a46dded2aa68b1e6735a2cb1ce783f61b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgracenote_1_1lookup__localstream_1_1_gn_lookup_local_stream.html#a46dded2aa68b1e6735a2cb1ce783f61b">EngineType</a> (<a class="el" href="namespacegracenote_1_1lookup__localstream.html#a36c48a927376b0d9558c5b9b06589717">GnLocalStreamEngineType</a> engineType)  throw (GnError)</td></tr>
<tr class="separator:a46dded2aa68b1e6735a2cb1ce783f61b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac860afc81a5f0b746fec33b0449c59ff"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacegracenote_1_1lookup__localstream.html#a36c48a927376b0d9558c5b9b06589717">GnLocalStreamEngineType</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgracenote_1_1lookup__localstream_1_1_gn_lookup_local_stream.html#ac860afc81a5f0b746fec33b0449c59ff">EngineType</a> (void)  throw (GnError)</td></tr>
<tr class="separator:ac860afc81a5f0b746fec33b0449c59ff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a255c8ff9ee96c9afa73dc08ce75e66f5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgracenote_1_1lookup__localstream_1_1_gn_lookup_local_stream.html#a255c8ff9ee96c9afa73dc08ce75e66f5">StorageClear</a> ()  throw (GnError)</td></tr>
<tr class="separator:a255c8ff9ee96c9afa73dc08ce75e66f5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af27d47df8776017c3c656f3593376e97"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgracenote_1_1lookup__localstream_1_1_gn_lookup_local_stream.html#af27d47df8776017c3c656f3593376e97">StorageLocation</a> (gnsdk_cstr_t location)  throw (GnError)</td></tr>
<tr class="separator:af27d47df8776017c3c656f3593376e97"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac687d2799f6865eabd12b39bb409e201"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgracenote_1_1lookup__localstream_1_1_gn_lookup_local_stream.html#ac687d2799f6865eabd12b39bb409e201">StorageRemove</a> (gnsdk_cstr_t bundleItemId)  throw (GnError)</td></tr>
<tr class="separator:ac687d2799f6865eabd12b39bb409e201"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:a5bd453928ed1b23767b387246c4ba591"><td class="memItemLeft" align="right" valign="top">static gnsdk_cstr_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgracenote_1_1lookup__localstream_1_1_gn_lookup_local_stream.html#a5bd453928ed1b23767b387246c4ba591">BuildDate</a> ()</td></tr>
<tr class="separator:a5bd453928ed1b23767b387246c4ba591"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3382708aaaa16451b3e4a84281111fdf"><td class="memItemLeft" align="right" valign="top">static GNWRAPPER_ANNOTATE <br class="typebreak"/>
<a class="el" href="classgracenote_1_1lookup__localstream_1_1_gn_lookup_local_stream.html">GnLookupLocalStream</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgracenote_1_1lookup__localstream_1_1_gn_lookup_local_stream.html#a3382708aaaa16451b3e4a84281111fdf">Enable</a> ()  throw (GnError)</td></tr>
<tr class="separator:a3382708aaaa16451b3e4a84281111fdf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a294eb3a967fa62b2e1237692e1aefd29"><td class="memItemLeft" align="right" valign="top">static gnsdk_cstr_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgracenote_1_1lookup__localstream_1_1_gn_lookup_local_stream.html#a294eb3a967fa62b2e1237692e1aefd29">Version</a> ()</td></tr>
<tr class="separator:a294eb3a967fa62b2e1237692e1aefd29"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Provides services for local lookup of MusicID-Stream queries</p>
<p><a class="el" href="classgracenote_1_1lookup__localstream_1_1_gn_lookup_local_stream.html">GnLookupLocalStream</a> is a MusicID-Stream local lookup provider, providing a local database of MusicID-Stream tracks suitable for lookup via GnMusicIdStream or GnMusicId.</p>
<p>The local database is a Gracenote storage; therefore a storage provider, such as GnStorageSqlite, must be enabled as a pre-requisite to successfully using this class.</p>
<p><b>Bundle Ingestion</b></p>
<p>The MusicID-Stream local database is constructed from "bundles" provided periodically by Gracenote. Your application must ingest the bundle, a process that adds the tracks from the bundle to the local database making them available for local recognition.</p>
<p>To ingest a bundle create an instance of <a class="el" href="classgracenote_1_1lookup__localstream_1_1_gn_lookup_local_stream_ingest.html">GnLookupLocalStreamIngest</a> and write the bundle bytes as received when streaming the bundle from your online service.</p>
<p>Multiple bundles can be ingested by the same application. If the same track exists in multiple ingested bundles it is added to the local database only once and only the most recent/up-to-date track information is written to the database.</p>
<p>The process of ingestion can be lengthy. Some applications may wish to perform ingestion on a background thread to avoid stalling the main application thread.</p>
<p><b>Bundle Management</b></p>
<p>Bundles are regularly generated for multiple global regions and in multiple flavors being incremental (only differences from previous bundle for that region) or full (all records for the region).</p>
<p>Incremental bundles are intended for applications that have installed the previous bundles in the sequence. If your application skips a bundle it should clear it's MusicID-Stream local database and install the full bundle.</p>
<p>Your bundle management system must provide the means to regularly distribute the correct bundle to your application, ensuring it provides the bundle for the correct region and, as appropriate, the full or incremental bundle.</p>
<p>A typical bundle management system is:<br/>
</p>
<ul>
<li>retrieve bundles as produced by Gracenote (manual step)<br/>
</li>
<li>place bundle in online location where application can fetch it<br/>
</li>
<li>application downloads and ingests the bundle</li>
</ul>
<p>Note: Bundles should be retrieved from an online source. Gracenote recommends when your application is installed/initialized it download and ingest the latest bundle rather than ship with a bundle as part of the application binaries. </p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a5bd453928ed1b23767b387246c4ba591"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static gnsdk_cstr_t gracenote::lookup_localstream::GnLookupLocalStream::BuildDate </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Retrieves the <a class="el" href="classgracenote_1_1lookup__localstream_1_1_gn_lookup_local_stream.html">GnLookupLocalStream</a> SDK's build date string. </p>
<dl class="section return"><dt>Returns</dt><dd>gnsdk_cstr_t Build date string of the format: YYYY-MM-DD hh:mm UTC </dd></dl>
<p><b>Remarks:</b></p>
<p>This API can be called at any time, after getting instance of <a class="el" href="classgracenote_1_1_gn_manager.html">GnManager</a> successfully. The returned string is a constant. Do not attempt to modify or delete. Example build date string: 2008-02-12 00:41 UTC </p>

</div>
</div>
<a class="anchor" id="a3382708aaaa16451b3e4a84281111fdf"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static GNWRAPPER_ANNOTATE <a class="el" href="classgracenote_1_1lookup__localstream_1_1_gn_lookup_local_stream.html">GnLookupLocalStream</a>&amp; gracenote::lookup_localstream::GnLookupLocalStream::Enable </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
        <tr>
          <td align="right">throw </td><td>(</td><td colspan="2"><a class="el" href="classgracenote_1_1_gn_error.html">GnError</a></td>
        </tr>
        <tr>
          <td align="right"></td><td>)</td><td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Enable Lookup local Stream provider. </p>
<dl class="section return"><dt>Returns</dt><dd>Storage provider instance </dd></dl>

</div>
</div>
<a class="anchor" id="a46dded2aa68b1e6735a2cb1ce783f61b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void gracenote::lookup_localstream::GnLookupLocalStream::EngineType </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespacegracenote_1_1lookup__localstream.html#a36c48a927376b0d9558c5b9b06589717">GnLocalStreamEngineType</a>&#160;</td>
          <td class="paramname"><em>engineType</em></td><td>)</td>
          <td></td>
        </tr>
        <tr>
          <td align="right">throw </td><td>(</td><td colspan="2"><a class="el" href="classgracenote_1_1_gn_error.html">GnError</a></td>
        </tr>
        <tr>
          <td align="right"></td><td>)</td><td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="ac860afc81a5f0b746fec33b0449c59ff"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacegracenote_1_1lookup__localstream.html#a36c48a927376b0d9558c5b9b06589717">GnLocalStreamEngineType</a> gracenote::lookup_localstream::GnLookupLocalStream::EngineType </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
        <tr>
          <td align="right">throw </td><td>(</td><td colspan="2"><a class="el" href="classgracenote_1_1_gn_error.html">GnError</a></td>
        </tr>
        <tr>
          <td align="right"></td><td>)</td><td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a255c8ff9ee96c9afa73dc08ce75e66f5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void gracenote::lookup_localstream::GnLookupLocalStream::StorageClear </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
        <tr>
          <td align="right">throw </td><td>(</td><td colspan="2"><a class="el" href="classgracenote_1_1_gn_error.html">GnError</a></td>
        </tr>
        <tr>
          <td align="right"></td><td>)</td><td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Clear all tracks from the MusicID-Stream local database storage file </p>

</div>
</div>
<a class="anchor" id="af27d47df8776017c3c656f3593376e97"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void gracenote::lookup_localstream::GnLookupLocalStream::StorageLocation </td>
          <td>(</td>
          <td class="paramtype">gnsdk_cstr_t&#160;</td>
          <td class="paramname"><em>location</em></td><td>)</td>
          <td></td>
        </tr>
        <tr>
          <td align="right">throw </td><td>(</td><td colspan="2"><a class="el" href="classgracenote_1_1_gn_error.html">GnError</a></td>
        </tr>
        <tr>
          <td align="right"></td><td>)</td><td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Sets a folder location for GNSDK LookupLocalStream </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">folderPath</td><td>[in] Relative path name for storage </td></tr>
  </table>
  </dd>
</dl>
<p><b>Remarks:</b></p>
<p>This API overrides the (default or explicit) folder location of GNSDK SQLite storage - for this database. </p>

</div>
</div>
<a class="anchor" id="ac687d2799f6865eabd12b39bb409e201"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void gracenote::lookup_localstream::GnLookupLocalStream::StorageRemove </td>
          <td>(</td>
          <td class="paramtype">gnsdk_cstr_t&#160;</td>
          <td class="paramname"><em>bundleItemId</em></td><td>)</td>
          <td></td>
        </tr>
        <tr>
          <td align="right">throw </td><td>(</td><td colspan="2"><a class="el" href="classgracenote_1_1_gn_error.html">GnError</a></td>
        </tr>
        <tr>
          <td align="right"></td><td>)</td><td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Remove an item from the MusicID-Stream local database identified by Bundle Item ID. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">bundleItemId</td><td>[in] Bundle Item ID </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a294eb3a967fa62b2e1237692e1aefd29"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static gnsdk_cstr_t gracenote::lookup_localstream::GnLookupLocalStream::Version </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Retrieves <a class="el" href="classgracenote_1_1lookup__localstream_1_1_gn_lookup_local_stream.html">GnLookupLocalStream</a> SDK version string. This API can be called at any time, after getting instance of <a class="el" href="classgracenote_1_1_gn_manager.html">GnManager</a> successfully. The returned string is a constant. Do not attempt to modify or delete. Example: 1.2.3.123 (Major.Minor.Improvement.Build) Major: New functionality Minor: New or changed features Improvement: Improvements and fixes Build: Internal build number </p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
</ul>
</div>
<hr \>
<p style="margin-left:2em;">
<a href="mailto:doc_feedback@gracenote.com?subject=Gracenote Documentation Feedback" title="Email comments about this topic to Gracenote Technical Publications." alt="Email comments about this topic to Gracenote Technical Publications.">How can we improve this documentation?</a><br \>
Copyright &copy; 2000-present. Gracenote, Inc. All rights reserved. Generated on Tue Jul 14 2015 12:48:50.<br \>
</p>
</body>
</html>
